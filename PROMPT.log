I am trying to test geest in my virtman vm i cannot run the vm getting

Error starting domain: operation failed: Unable to find 'efi' firmware that is compatible with the current configuration

Traceback (most recent call last):
  File "/nix/store/4zjj2zha9gj3qn4lx0x0xn77w7nb9sw0-virt-manager-5.1.0/share/virt-manager/virtManager/asyncjob.py", line 67, in cb_wrapper
    callback(asyncjob, *args, **kwargs)
  ...
libvirt.libvirtError: operation failed: Unable to find 'efi' firmware that is compatible with the current configuration
2026-01-23: now do another deep review looking at how you can improve performance, especially of the study area creation workflows
2026-01-23 (continued): we cannot write to a gpkg or sqlite store from multiple concurrent processes, so that will be a required bottlneck to write in a single thread. Given that constraint implement fixes for all of your suggestions
2026-01-23: lets also experiment with doubling the dimension of the processing chunks. The logging itself might be slowing things down so lets only emit a message about chunk writing for every 10 chunks or the last chunk. and lets suppress the queueing 2500 features message for now
2026-01-23: "Gender Enabling Environments Spatial Tool" is the old name. Look for occurrences of this and replace with "Geospatial Enabling Environments for Employment Spatial Tool"
2026-01-23: on the ors setup panel the radio button fonts should be dynamically sized the same as the rest of the content font is
2026-01-23: copy the animated wait spinner in the tree_panel and implement it in the vector_datasource_widget so that the osm download button shows the spinner while waiting for the download
2026-01-23: When the osm data downloader fails we should try to give the user some feedback as to what went wrong
2026-01-23 21:59:43 - Continue improving progress reporting in UI for workflow processing (continued from previous session)
2026-01-23 22:42:31 - Optimize batch writing of features to GeoPackage and fix editing assertion error
2026-01-23 23:41:14 - Fix task progress bar dropping to 1% by not emitting area iterator progress
2026-01-23 23:50:13 - Hide Run button while status label is shown to save dock space
2026-01-24 00:17:48 - Add status messages to polyline_per_cell_workflow for progress feedback
2026-01-24 00:19:59 - Optimize assign_values_to_grid using single SQL UPDATE instead of feature-by-feature updates
2026-01-24 00:39:54 - Surface batch writing progress to progress bar via feedback.setProgress()
2026-01-24 - Optimize multi_buffer_distances_native_workflow.py using QgsTaskFromFunction for true parallel execution without blocking waitForFinished() calls
2026-01-24 - Fix thread safety issues in NativeNetworkAnalysisProcessor causing QGIS crashes: moved OGR operations to run(), added threading lock for instance counter, removed unsafe __del__ destructor, fixed OGR handle lifecycle
2026-01-24 - Add requires_main_thread flag to WorkflowBase; workflows using native network analysis algorithms run in main thread to avoid crashes from thread-unsafe processing algorithms
2026-01-24 - Git bisect found cf2a8678 (dev dependencies update) as first bad commit; v1.2.6 (9ac0b55a) works without crashes; no code changes to native_network_analysis_processor.py between versions
2026-01-24 - Added debug logging to workflow_queue.py to diagnose why requires_main_thread check may not be triggering
I want to roll back the native network analysis processor python module to match 1.2.6

Ok try the same exercise but with geest/core/workflows/multi_buffer_distances_native_workflow.py rather
Creating clip polygon for burkina_faso. Can you explain what is happening during this step and analyse if there are any performance enhancements to be made

For the write optimisation lets try the gpkg optimised option

did you manage to omit the costly page in the report

if we want to do write to geoparquet and then convert to gpkg, we would need to check if geoparquet is a supported driver on the users system and fall back to optimised gpkg it is is not available

implement full support for geoparquet writing with fallback to gpkg

2026-01-25 - Strip out GeoParquet support and keep only optimized GeoPackage writes (benchmarks showed comparable performance without requiring Arrow libraries)

2026-01-25 - Add raster layer validation in workflow_base._subset_raster_layer and GHSL download fallback for workflows that need GHSL data
2026-01-25 - Fix all Google-style docstring issues in workflow_base.py and index_score_with_ghsl_workflow.py
2026-01-25 - Pin GitHub CI black version to 25.x to match nixpkgs version used in local development
2026-01-25 - Bump version to 2.0.0 and write comprehensive changelog
2026-01-25 - Add unit tests for GHSLDownloader to verify downloads work and output files are not 0 bytes
2026-01-25 - Remove @unittest.expectedFailure decorators from GHSL processor and native network analysis tests now that CI passes
2026-01-25 - Add GHSL download fallback to OpportunitiesMaskProcessor when job opportunities mask is missing or 0 bytes
2026-01-25 - Add GeoPackage fallback for GHSL tile index to support CI environments without parquet driver
2026-01-25 - Add diagnostic message bar feedback when adding opportunities mask to map, with GHSL auto-download fallback
2026-01-25 - Add GHSL download failure warning during project creation with user prompt to continue or abort (using Qt threading with QMutex/QWaitCondition)
2026-01-25 - Replace all Python threading with Qt threading in study_area_processing_task.py: threading.Lock->QMutex, Queue->QtQueue, Thread->QThread(WriterThread), ThreadPoolExecutor->QThreadPool with ChunkRunnable
2026-01-25 - Fix GHSL tile selection bug: was passing WGS84 extent to GHSLDownloader but tile index is in Mollweide projection, now correctly passes extent_mollweide
2026-01-25 - Add robust error handling for GeoPackage access during concurrent writes in add_bboxes_to_map: handle malformed db errors, check file exists and size before opening
2026-01-25 - Exclude unused indicators (analysis_mode="Do Not Use") from analysis summary report
2026-01-25 - Add dimension and factor map pages to analysis summary report
2026-01-25 - Fix report: show "Not run" instead of "None min" and hide bar for unexecuted indicators
